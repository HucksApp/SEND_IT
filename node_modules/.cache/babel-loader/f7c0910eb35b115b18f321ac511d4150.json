{"ast":null,"code":"import _objectSpread from \"/Users/Ahrabprince/Desktop/APPS/s_i_api_v1/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/Ahrabprince/Desktop/APPS/s_i_api_v1/src/components/SignUp.jsx\";\nimport React, { Component } from 'react';\nimport submitControl from '../controls/formControl';\nimport toastr from '../notification/Toastr'; //STYLES\n//import '../styles/Form.css'\n\nclass Signup extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        user: {\n          username: \"\",\n          phoneNumber: \"\",\n          houseAddress: \"\",\n          email: \"\",\n          password: \"\"\n        },\n        chck: false\n      }\n    };\n\n    this.updateState = e => {\n      const newData = _objectSpread({}, this.state.data);\n\n      let infoField;\n\n      switch (e.target.id) {\n        case 'username':\n          infoField = 'username';\n          break;\n\n        case 'phoneno':\n          infoField = 'phoneNumber';\n          break;\n\n        case 'house_address':\n          infoField = 'houseAddress';\n          break;\n\n        case 'email':\n          infoField = 'email';\n          break;\n\n        case 'password':\n          infoField = 'password';\n          break;\n\n        default:\n          return;\n      }\n\n      newData.user[infoField] = e.target.value;\n      this.setState({\n        data: newData\n      });\n    };\n\n    this.formAction = e => {\n      e.preventDefault();\n      submitControl(true, this);\n      console.log(this.state);\n      fetch('https://s-i-api.herokuapp.com/api/v1/new_user', {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(this.state.data.user)\n      }).then(res => {\n        return res.json();\n      }).then(data => {\n        submitControl(false, this);\n\n        switch (data.valid) {\n          case false:\n            toastr.warning(data.message);\n            this.props.history.push('/login');\n            break;\n\n          case true:\n            toastr.success(\"ACCOUNT CREATED SUCCESSFULLY\");\n            toastr.success(\"YOU ARE LOGGED IN AS \" + this.state.data.user.email);\n            sessionStorage.setItem('token', data.token);\n            this.props.history.push('/account');\n            break;\n\n          default:\n            toastr.info('NOT A VALID INFO');\n        }\n\n        ;\n      }).catch(err => toastr.error('THERE WAS AN ERROR CREATING NEW USER ' + this.state.data.user.username));\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"user-login\",\n      onSubmit: this.formAction,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Have An Account? Go To Login\"), React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"USERNAME: \"), React.createElement(\"input\", {\n      id: \"username\",\n      type: \"text\",\n      placeholder: \"ENTER USER NAME\",\n      onChange: this.updateState,\n      minLength: \"6\",\n      maxLength: \"20\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"phoneno\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"PHONE NO: \"), React.createElement(\"input\", {\n      id: \"phoneno\",\n      type: \"number\",\n      placeholder: \"ENTER PHONE NUMBER\",\n      onChange: this.updateState,\n      minLength: \"8\",\n      maxLength: \"20\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"house_address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"HOUSE ADDRESS:\"), React.createElement(\"input\", {\n      id: \"house_address\",\n      type: \"text\",\n      placeholder: \"ENTER HOUSE ADDRESS \",\n      onChange: this.updateState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"EMAIL:\"), React.createElement(\"input\", {\n      id: \"email\",\n      type: \"email\",\n      placeholder: \"ENTER EMAIL\",\n      onChange: this.updateState,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"PASSWORD:\"), React.createElement(\"input\", {\n      id: \"password\",\n      placeholder: \"ENTER PASSWORD\",\n      type: \"password\",\n      onChange: this.updateState,\n      minLength: \"8\",\n      maxLength: \"20\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      disabled: this.state.data.chck,\n      type: \"submit\",\n      title: \"CREATE ACCOUNT\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Create\")));\n  }\n\n}\n\nexport default Signup;","map":{"version":3,"sources":["/Users/Ahrabprince/Desktop/APPS/s_i_api_v1/src/components/SignUp.jsx"],"names":["React","Component","submitControl","toastr","Signup","state","data","user","username","phoneNumber","houseAddress","email","password","chck","updateState","e","newData","infoField","target","id","value","setState","formAction","preventDefault","console","log","fetch","method","headers","body","JSON","stringify","then","res","json","valid","warning","message","props","history","push","success","sessionStorage","setItem","token","info","catch","err","error","render"],"mappings":"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","sourcesContent":["import React,{ Component } from 'react';\nimport submitControl from '../controls/formControl'\nimport toastr from '../notification/Toastr'\n\n\n//STYLES\n//import '../styles/Form.css'\n\nclass Signup extends Component {\n\nstate ={\n            data:{\n        user:{\n        username:\"\",\n        phoneNumber:\"\",\n        houseAddress:\"\",\n        email:\"\",\n        password:\"\"\n        },\n        chck:false\n    }\n};\n\n\nupdateState=(e)=>{\nconst newData = {...this.state.data};\nlet infoField;\n\nswitch(e.target.id){\n    case 'username':\n        infoField='username';\n        break;\n    case 'phoneno':\n        infoField='phoneNumber';\n        break;\n    case 'house_address':\n        infoField='houseAddress';\n        break;\n    case 'email':\n        infoField='email';\n        break;\n    case 'password':\n        infoField='password';\n        break;\n    default:\n            return\n\n}\n\n\n\nnewData.user[infoField] = e.target.value;\n    this.setState({\n            data: newData\n    });\n}\n\nformAction=(e)=>{\n    e.preventDefault();\n\n    submitControl(true,this)\nconsole.log(this.state)\n    fetch('https://s-i-api.herokuapp.com/api/v1/new_user',{\n        method:\"POST\",\n        headers:{\n            \"Content-Type\":\"application/json\"\n        },\n        body:JSON.stringify(this.state.data.user)\n})\n\n.then(res=> { return res.json()} )\n.then(data=>{\n    submitControl(false, this);\n        switch(data.valid){\n            case false:\n                toastr.warning(data.message);\n                this.props.history.push('/login');\n                break;\n            case true:\n                toastr.success(\"ACCOUNT CREATED SUCCESSFULLY\");\n                toastr.success(\"YOU ARE LOGGED IN AS \" + this.state.data.user.email);\n                sessionStorage.setItem('token', data.token);\n                this.props.history.push('/account');\n                break;\n            default:\n                toastr.info('NOT A VALID INFO')\n        };\n}).catch(err=>toastr.error('THERE WAS AN ERROR CREATING NEW USER '+ this.state.data.user.username))\n\n\n} \n    \n\n    render(){\n\n    return (\n      <div className=\"signup\">\n        <form className=\"user-login\"  onSubmit={this.formAction}> \n            <div>\n            <p>Have An Account? Go To Login</p>\n                <label htmlFor=\"username\">USERNAME: </label>\n                <input id=\"username\" type=\"text\" placeholder=\"ENTER USER NAME\" onChange={this.updateState}  minLength=\"6\" maxLength=\"20\" required/>\n            </div>\n            <div>\n            <label htmlFor=\"phoneno\" >PHONE NO: </label>\n            <input id=\"phoneno\" type=\"number\" placeholder=\"ENTER PHONE NUMBER\" onChange={this.updateState} minLength=\"8\" maxLength=\"20\" required/>\n            </div>\n            <div>\n            <label htmlFor=\"house_address\" >HOUSE ADDRESS:</label>\n            <input id=\"house_address\" type=\"text\" placeholder=\"ENTER HOUSE ADDRESS \" onChange={this.updateState}/>\n            </div>\n            <div>\n                <label htmlFor=\"email\">EMAIL:</label>\n                <input  id=\"email\" type=\"email\" placeholder=\"ENTER EMAIL\" onChange={this.updateState} required/>\n            </div>\n            <div>\n                <label htmlFor=\"password\" >PASSWORD:</label>\n                <input  id=\"password\" placeholder=\"ENTER PASSWORD\" type=\"password\" onChange={this.updateState} minLength=\"8\" maxLength=\"20\" required/>\n            </div>\n            <button disabled={this.state.data.chck} type=\"submit\" title=\"CREATE ACCOUNT\">Create</button>\n        </form>\n      </div>\n    );\n    }\n  }\n  \n  export default Signup;\n  "]},"metadata":{},"sourceType":"module"}