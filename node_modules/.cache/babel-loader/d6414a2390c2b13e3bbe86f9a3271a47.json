{"ast":null,"code":"import _objectSpread from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import submitControl from'../controls/formControl';import toastr from'../notification/Toastr';//STYLES\n//import '../styles/Form.css'\nvar Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);function Signup(){var _getPrototypeOf2;var _this;_classCallCheck(this,Signup);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Signup)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={data:{user:{username:\"\",phoneNumber:\"\",houseAddress:\"\",email:\"\",password:\"\"},chck:false}};_this.updateState=function(e){var newData=_objectSpread({},_this.state.data);var infoField;switch(e.target.id){case'username':infoField='username';break;case'phoneno':infoField='phoneNumber';break;case'house_address':infoField='houseAddress';break;case'email':infoField='email';break;case'password':infoField='password';break;default:return;}newData.user[infoField]=e.target.value;_this.setState({data:newData});};_this.formAction=function(e){e.preventDefault();submitControl(true,_assertThisInitialized(_this));console.log(_this.state);fetch('https://s-i-api.herokuapp.com/api/v1/new_user',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_this.state.data.user)}).then(function(res){return res.json();}).then(function(data){submitControl(false,_assertThisInitialized(_this));switch(data.valid){case false:toastr.warning(data.message);_this.props.history.push('/login');break;case true:toastr.success(\"ACCOUNT CREATED SUCCESSFULLY\");toastr.success(\"YOU ARE LOGGED IN AS \"+_this.state.data.user.email);sessionStorage.setItem('token',data.token);_this.props.history.push('/account');break;default:toastr.info('NOT A VALID INFO');};}).catch(function(err){return toastr.error('THERE WAS AN ERROR CREATING NEW USER '+_this.state.data.user.username);});};return _this;}_createClass(Signup,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"signup\"},React.createElement(\"form\",{className:\"user-login\",onSubmit:this.formAction},React.createElement(\"div\",null,React.createElement(\"p\",null,\"Have An Account? Go To Login\"),React.createElement(\"label\",{htmlFor:\"username\"},\"USERNAME: \"),React.createElement(\"input\",{id:\"username\",type:\"text\",placeholder:\"ENTER USER NAME\",onChange:this.updateState,minLength:\"6\",maxLength:\"20\",required:true})),React.createElement(\"div\",null,React.createElement(\"label\",{htmlFor:\"phoneno\"},\"PHONE NO: \"),React.createElement(\"input\",{id:\"phoneno\",type:\"number\",placeholder:\"ENTER PHONE NUMBER\",onChange:this.updateState,minLength:\"8\",maxLength:\"20\",required:true})),React.createElement(\"div\",null,React.createElement(\"label\",{htmlFor:\"house_address\"},\"HOUSE ADDRESS:\"),React.createElement(\"input\",{id:\"house_address\",type:\"text\",placeholder:\"ENTER HOUSE ADDRESS \",onChange:this.updateState})),React.createElement(\"div\",null,React.createElement(\"label\",{htmlFor:\"email\"},\"EMAIL:\"),React.createElement(\"input\",{id:\"email\",type:\"email\",placeholder:\"ENTER EMAIL\",onChange:this.updateState,required:true})),React.createElement(\"div\",null,React.createElement(\"label\",{htmlFor:\"password\"},\"PASSWORD:\"),React.createElement(\"input\",{id:\"password\",placeholder:\"ENTER PASSWORD\",type:\"password\",onChange:this.updateState,minLength:\"8\",maxLength:\"20\",required:true})),React.createElement(\"button\",{disabled:this.state.data.chck,type:\"submit\",title:\"CREATE ACCOUNT\"},\"Create\")));}}]);return Signup;}(Component);export default Signup;","map":{"version":3,"sources":["/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/src/components/SignUp.jsx"],"names":["React","Component","submitControl","toastr","Signup","state","data","user","username","phoneNumber","houseAddress","email","password","chck","updateState","e","newData","infoField","target","id","value","setState","formAction","preventDefault","console","log","fetch","method","headers","body","JSON","stringify","then","res","json","valid","warning","message","props","history","push","success","sessionStorage","setItem","token","info","catch","err","error"],"mappings":"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","sourcesContent":["import React,{ Component } from 'react';\nimport submitControl from '../controls/formControl'\nimport toastr from '../notification/Toastr'\n\n\n//STYLES\n//import '../styles/Form.css'\n\nclass Signup extends Component {\n\nstate ={\n            data:{\n        user:{\n        username:\"\",\n        phoneNumber:\"\",\n        houseAddress:\"\",\n        email:\"\",\n        password:\"\"\n        },\n        chck:false\n    }\n};\n\n\nupdateState=(e)=>{\nconst newData = {...this.state.data};\nlet infoField;\n\nswitch(e.target.id){\n    case 'username':\n        infoField='username';\n        break;\n    case 'phoneno':\n        infoField='phoneNumber';\n        break;\n    case 'house_address':\n        infoField='houseAddress';\n        break;\n    case 'email':\n        infoField='email';\n        break;\n    case 'password':\n        infoField='password';\n        break;\n    default:\n            return\n\n}\n\n\n\nnewData.user[infoField] = e.target.value;\n    this.setState({\n            data: newData\n    });\n}\n\nformAction=(e)=>{\n    e.preventDefault();\n\n    submitControl(true,this)\nconsole.log(this.state)\n    fetch('https://s-i-api.herokuapp.com/api/v1/new_user',{\n        method:\"POST\",\n        headers:{\n            \"Content-Type\":\"application/json\"\n        },\n        body:JSON.stringify(this.state.data.user)\n})\n\n.then(res=> { return res.json()} )\n.then(data=>{\n    submitControl(false, this);\n        switch(data.valid){\n            case false:\n                toastr.warning(data.message);\n                this.props.history.push('/login');\n                break;\n            case true:\n                toastr.success(\"ACCOUNT CREATED SUCCESSFULLY\");\n                toastr.success(\"YOU ARE LOGGED IN AS \" + this.state.data.user.email);\n                sessionStorage.setItem('token', data.token);\n                this.props.history.push('/account');\n                break;\n            default:\n                toastr.info('NOT A VALID INFO')\n        };\n}).catch(err=>toastr.error('THERE WAS AN ERROR CREATING NEW USER '+ this.state.data.user.username))\n\n\n} \n    \n\n    render(){\n\n    return (\n      <div className=\"signup\">\n        <form className=\"user-login\"  onSubmit={this.formAction}> \n            <div>\n            <p>Have An Account? Go To Login</p>\n                <label htmlFor=\"username\">USERNAME: </label>\n                <input id=\"username\" type=\"text\" placeholder=\"ENTER USER NAME\" onChange={this.updateState}  minLength=\"6\" maxLength=\"20\" required/>\n            </div>\n            <div>\n            <label htmlFor=\"phoneno\" >PHONE NO: </label>\n            <input id=\"phoneno\" type=\"number\" placeholder=\"ENTER PHONE NUMBER\" onChange={this.updateState} minLength=\"8\" maxLength=\"20\" required/>\n            </div>\n            <div>\n            <label htmlFor=\"house_address\" >HOUSE ADDRESS:</label>\n            <input id=\"house_address\" type=\"text\" placeholder=\"ENTER HOUSE ADDRESS \" onChange={this.updateState}/>\n            </div>\n            <div>\n                <label htmlFor=\"email\">EMAIL:</label>\n                <input  id=\"email\" type=\"email\" placeholder=\"ENTER EMAIL\" onChange={this.updateState} required/>\n            </div>\n            <div>\n                <label htmlFor=\"password\" >PASSWORD:</label>\n                <input  id=\"password\" placeholder=\"ENTER PASSWORD\" type=\"password\" onChange={this.updateState} minLength=\"8\" maxLength=\"20\" required/>\n            </div>\n            <button disabled={this.state.data.chck} type=\"submit\" title=\"CREATE ACCOUNT\">Create</button>\n        </form>\n      </div>\n    );\n    }\n  }\n  \n  export default Signup;\n  "]},"metadata":{},"sourceType":"module"}