{"ast":null,"code":"import _objectSpread from \"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/src/components/AdminComp.jsx\";\nimport React, { Component } from 'react';\nimport toastr from '../notification/Toastr'; //COMPONENTS\n\nimport AdminOrdersList from './AdminOrdersList';\nimport AdminEdit from './AdminEdit'; //STYLES\n\nimport '../styles/AdminComp.css';\n\nclass AdminComp extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        orderList: [],\n        togCtrl: \"\"\n      }\n    };\n\n    this.handleAdminEdit = togData => {\n      let dataCopy = _objectSpread({}, this.state.data);\n\n      dataCopy.togCtrl = togData;\n      this.setState({\n        data: dataCopy\n      });\n      console.log('HERE PLSSS', this.state);\n      console.log('HERE copy', dataCopy);\n    };\n\n    this.handleEditOnForm = obj => {\n      const dataCopy = _objectSpread({}, obj.state.data);\n\n      dataCopy.ord.ordId = this.state.data.payload.ordId;\n      dataCopy.ord.userId = this.state.data.payload.userIdentity;\n\n      switch (this.state.data.payload.type) {\n        case 'statu':\n          dataCopy.ord.type = 'status';\n          break;\n\n        case 'locatn':\n          dataCopy.ord.type = 'location';\n          break;\n\n        default:\n          return;\n      }\n\n      ;\n      obj.setState({\n        data: dataCopy\n      });\n      console.log(this.state.data);\n    };\n  }\n\n  componentDidMount() {\n    const adminToken = sessionStorage.getItem('adminToken');\n\n    if (!adminToken) {\n      toastr.warning(\"CAN'T FIND ADMIN CREDENTIALS !!!\");\n      this.props.history.push('/login');\n    } else {\n      fetch('https://s-i-api.herokuapp.com/api/v1/admin_orders', {\n        headers: {\n          Authorization: adminToken\n        }\n      }).then(res => {\n        return res.json();\n      }).then(data => {\n        const datacopy = _objectSpread({}, this.state.data);\n\n        datacopy.orderList = data;\n        this.setState({\n          data: datacopy\n        });\n        console.log(this.state);\n      }).catch(err => {\n        toastr.error('ERROR FETCHING THE ORDERS LISTS');\n      });\n    }\n\n    ;\n  }\n\n  render() {\n    if (this.state.data.orderList.length !== 0) {\n      return React.createElement(\"div\", {\n        className: \"admin_comp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"all_orders_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"ALL ORDERS LIST WITH CORRESPONDING USER\"), React.createElement(AdminOrdersList, {\n        orders_list: this.state.data.orderList,\n        handleAdminEdit: this.handleAdminEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(AdminEdit, {\n        edit_on_form: this.state.data.payload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(\"div\", {\n        className: \"admin_comp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"all_orders_title\",\n        style: {\n          color: '#fff'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"FETCHING  ALL ORDERS ...........\"));\n    }\n  }\n\n}\n\nexport default AdminComp;","map":{"version":3,"sources":["/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/src/components/AdminComp.jsx"],"names":["React","Component","toastr","AdminOrdersList","AdminEdit","AdminComp","state","data","orderList","togCtrl","handleAdminEdit","togData","dataCopy","setState","console","log","handleEditOnForm","obj","ord","ordId","payload","userId","userIdentity","type","componentDidMount","adminToken","sessionStorage","getItem","warning","props","history","push","fetch","headers","Authorization","then","res","json","datacopy","catch","err","error","render","length","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport toastr from '../notification/Toastr' \n\n\n//COMPONENTS\nimport AdminOrdersList from './AdminOrdersList';\nimport AdminEdit from './AdminEdit';\n\n\n//STYLES\nimport '../styles/AdminComp.css'\n\nclass AdminComp extends Component {\n\n    state = { \n        data:{\n            orderList:[],\n            togCtrl:\"\"\n    \n        }\n    }\n\n   \nhandleAdminEdit=(togData)=>{\n        let dataCopy = { ...this.state.data };\n        dataCopy.togCtrl = togData;\n        this.setState({\n            data: dataCopy\n        })\n        console.log('HERE PLSSS',this.state)\n        console.log('HERE copy',dataCopy)\n       \n    }\n\nhandleEditOnForm=(obj)=>{\n\n    const dataCopy = {...obj.state.data};\n\n    dataCopy.ord.ordId = this.state.data.payload.ordId\n    dataCopy.ord.userId = this.state.data.payload.userIdentity;\n    switch(this.state.data.payload.type){\n      case 'statu':\n        dataCopy.ord.type  = 'status';\n        break;\n      case 'locatn': \n        dataCopy.ord.type  =  'location';\n        break;\n      default:\n        return\n    };\n    obj.setState({data: dataCopy})\n        console.log(this.state.data)\n\n\n}\n\n\ncomponentDidMount(){\n\n    const adminToken = sessionStorage.getItem('adminToken');\n\n    if(!adminToken){\n        toastr.warning(\"CAN'T FIND ADMIN CREDENTIALS !!!\");\n        this.props.history.push('/login')\n    }else {\n\n    fetch('https://s-i-api.herokuapp.com/api/v1/admin_orders',{\n        headers:{\n            Authorization: adminToken\n        }\n\n    })\n        .then(res=>{\n        return res.json();\n    })\n        .then(data=>{\n            const datacopy={...this.state.data};\n                datacopy.orderList=data;\n                this.setState({\n                    data: datacopy\n                })\n            console.log(this.state)\n        })\n        .catch(err=>{toastr.error('ERROR FETCHING THE ORDERS LISTS')})\n};\n}\n\n  render() {\n\n        if(this.state.data.orderList.length !== 0 ){\n\n    return (\n      <div className=\"admin_comp\">\n          <h4 className=\"all_orders_title\">\n              ALL ORDERS LIST WITH CORRESPONDING USER\n          </h4>\n            <AdminOrdersList orders_list={this.state.data.orderList}\n             handleAdminEdit={this.handleAdminEdit} />\n            <AdminEdit edit_on_form={this.state.data.payload} />\n      </div>\n    )\n        }else{\n\n\n            return (\n                   <div className=\"admin_comp\" >\n                       <h4 className=\"all_orders_title\" style={{color: '#fff'}}>\n                           FETCHING  ALL ORDERS ...........\n                       </h4>\n                   </div>\n            )\n        }\n  }\n  \n}\n\nexport default AdminComp\n"]},"metadata":{},"sourceType":"module"}