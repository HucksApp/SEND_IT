{"ast":null,"code":"import _objectSpread from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import toastr from'../notification/Toastr';import submitControl from'../controls/formControl';//STYLES\nimport'../styles/Form.css';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(){var _getPrototypeOf2;var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Login)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={data:{user:{email:\"\",password:\"\"},chck:false}};_this.AdminSlide=function(){var chk=window.confirm('RESTRICTED ADMIN ONLY !!!');if(chk===false){return;}else{console.log(_this.props);_this.props.history.push('/adminlogin');}};_this.handleChange=function(e){var newData=_objectSpread({},_this.state.data);newData.user[e.target.id]=e.target.value;_this.setState({data:newData});};_this.handleSubmit=function(e){e.preventDefault();submitControl(true,_assertThisInitialized(_this));fetch('https://s-i-api.herokuapp.com/api/v1/old_user',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_this.state.data.user)}).then(function(res){console.log(res);return res.json();}).then(function(data){submitControl(false,_assertThisInitialized(_this));console.log(data);if(data.valid===false){toastr.error(data.message);}else if(data.valid===true){sessionStorage.setItem(\"token\",data.token);toastr.success('YOU ARE LOGGED IN AS '+_this.state.data.user.email);_this.props.history.push('/account');}else{window.alert('API ERROR');}}).catch(function(err){return toastr.error(\"THERE WAS AN ERROR GETTING YOUR PROFILE\");});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"login\"},React.createElement(\"form\",{className:\"user-login\",onSubmit:this.handleSubmit},React.createElement(\"div\",null,React.createElement(\"p\",null,\"Dont't Have An Account? Go To Signup\",React.createElement(\"span\",{onClick:this.AdminSlide,id:\"adbtn\"},\"AD\")),React.createElement(\"label\",{htmlFor:\"email\"},\"EMAIL:\"),React.createElement(\"input\",{id:\"email\",type:\"text\",placeholder:\"ENTER EMAIL\",onChange:this.handleChange,required:true})),React.createElement(\"div\",null,React.createElement(\"label\",{htmlFor:\"password\"},\"PASSWORD:\"),React.createElement(\"input\",{id:\"password\",type:\"password\",placeholder:\"ENTER PASSWORD\",onChange:this.handleChange,required:true})),React.createElement(\"button\",{disabled:this.state.data.chck,type:\"submit\",title:\"SUBMIT\"},\"LogIn\")));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/src/components/Login.jsx"],"names":["React","Component","toastr","submitControl","Login","state","data","user","email","password","chck","AdminSlide","chk","window","confirm","console","log","props","history","push","handleChange","e","newData","target","id","value","setState","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","valid","error","message","sessionStorage","setItem","token","success","alert","catch","err"],"mappings":"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","sourcesContent":["import React,{ Component } from 'react';\nimport toastr from '../notification/Toastr'\nimport submitControl from '../controls/formControl'\n\n\n//STYLES\nimport '../styles/Form.css'\n\nclass Login extends Component {\n\n\n    state={\n        data:{\n            user:{\n                email:\"\",\n                password:\"\"\n            },\n            chck:false\n        }\n    };\n\n    AdminSlide =()=>{\n        const chk = window.confirm('RESTRICTED ADMIN ONLY !!!');\n            if(chk === false){\n                return\n            }else{\n                console.log(this.props)\n                this.props.history.push('/adminlogin')\n            }\n\n    };\n\nhandleChange=(e)=>{\nconst newData = {...this.state.data};\nnewData.user[e.target.id] = e.target.value;\nthis.setState({\n       data: newData \n})\n}\n\n\n\n\nhandleSubmit=(e)=>{\ne.preventDefault();\nsubmitControl(true, this);\n\n\nfetch( 'https://s-i-api.herokuapp.com/api/v1/old_user' ,{\n                method:\"POST\",\n                headers:{\n                    \"Content-Type\":\"application/json\",\n                },\n                body:JSON.stringify(this.state.data.user)\n            }).then((res)=>{\n                console.log(res);\n                return res.json();\n            }).then((data)=>{\n                submitControl(false, this);\n\n                console.log(data)\n                if(data.valid === false){\n                    toastr.error(data.message)\n\n                }else if(data.valid === true){\n\n                    sessionStorage.setItem(\"token\",data.token);\n                    toastr.success('YOU ARE LOGGED IN AS ' + this.state.data.user.email)\n                    this.props.history.push('/account');\n                }else{\n                    window.alert('API ERROR');\n                }\n            }).catch(err=>toastr.error(\"THERE WAS AN ERROR GETTING YOUR PROFILE\"))\n\n\n\n\n}\n    \n    \n\n    render(){\n\n    return (\n      <div className=\"login\">\n        <form className=\"user-login\"  onSubmit={this.handleSubmit}>\n            <div>\n            <p>Dont't Have An Account? Go To Signup<span onClick={this.AdminSlide} id=\"adbtn\">AD</span></p>\n            <label htmlFor=\"email\">EMAIL:</label>\n            <input id=\"email\" type=\"text\" placeholder=\"ENTER EMAIL\" onChange={this.handleChange} required/>\n            </div>\n            <div>\n            <label htmlFor=\"password\" >PASSWORD:</label>\n            <input id=\"password\" type=\"password\" placeholder=\"ENTER PASSWORD\" onChange={this.handleChange} required/>\n            </div>\n            <button disabled={this.state.data.chck} type=\"submit\" title=\"SUBMIT\">LogIn</button>\n        </form>\n      </div>\n    );\n    }\n  }\n  \n  export default Login;\n  "]},"metadata":{},"sourceType":"module"}