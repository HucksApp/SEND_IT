{"ast":null,"code":"import _objectSpread from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import submitControl from'../controls/formControl';import toastr from'../notification/Toastr';//STYLES\nimport'../styles/Form.css';var Adminlog=/*#__PURE__*/function(_Component){_inherits(Adminlog,_Component);function Adminlog(){var _getPrototypeOf2;var _this;_classCallCheck(this,Adminlog);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Adminlog)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={data:{user:{email:\"\",password:\"\"},chck:false}};_this.handleChange=function(e){var newData=_objectSpread({},_this.state.data);newData.user[e.target.id]=e.target.value;_this.setState({data:newData});};_this.handleSubmit=function(e){e.preventDefault();submitControl(true,_assertThisInitialized(_this));console.log(_this.state);fetch('https://s-i-api.herokuapp.com/api/v1/admin',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_this.state.data.user)}).then(function(res){return res.json();}).then(function(data){submitControl(false,_assertThisInitialized(_this));console.log(data);if(data.valid===false){toastr.error(data.message);_this.props.history.push('/login');}else if(data.valid===true){sessionStorage.setItem('adminToken',data.token);_this.props.history.push('/admin_comp');toastr.success('YOU ARE LOGGED IN AS THE SUPER USER \"ADMIN\"');console.log(data);}}).catch();};return _this;}_createClass(Adminlog,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"admin\"},React.createElement(\"form\",{className:\"adminlog\",onSubmit:this.handleSubmit},React.createElement(\"div\",null,React.createElement(\"p\",{style:{color:'yellowgreen'}},\"ADMIN SECTION !!!\"),React.createElement(\"label\",{htmlFor:\"email\"},\"EMAIL:\"),React.createElement(\"input\",{id:\"email\",type:\"text\",onChange:this.handleChange,placeholder:\"ENTER EMAIL\",required:true})),React.createElement(\"div\",null,React.createElement(\"label\",{htmlFor:\"password\"},\"PASSWORD:\"),React.createElement(\"input\",{id:\"password\",type:\"password\",onChange:this.handleChange,placeholder:\"ENTER PASSWORD\",required:true})),React.createElement(\"button\",{disabled:this.state.data.chck,type:\"submit\"},\"LogIn\")));}}]);return Adminlog;}(Component);export default Adminlog;","map":{"version":3,"sources":["/Users/Ahrabprince/Desktop/APPS/s-i-react/s-i-react/src/components/Adminlog.jsx"],"names":["React","Component","submitControl","toastr","Adminlog","state","data","user","email","password","chck","handleChange","e","newData","target","id","value","setState","handleSubmit","preventDefault","console","log","fetch","method","headers","body","JSON","stringify","then","res","json","valid","error","message","props","history","push","sessionStorage","setItem","token","success","catch","color"],"mappings":"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","sourcesContent":["import React,{ Component } from 'react';\nimport submitControl from '../controls/formControl';\nimport toastr from '../notification/Toastr';\n\n\n//STYLES\nimport '../styles/Form.css'\n\nclass Adminlog extends Component {\n\n  state={\n    data:{\n        user:{\n            email:\"\",\n            password:\"\"\n        },\n        chck:false\n    }\n};\n\n\n\nhandleChange=(e)=>{\n  const newData = {...this.state.data};\n  newData.user[e.target.id] = e.target.value;\n  this.setState({\n         data: newData \n  })\n  }\n\n  handleSubmit=(e)=>{\n    e.preventDefault();\n    submitControl(true, this);\n\n    console.log(this.state)\n      fetch('https://s-i-api.herokuapp.com/api/v1/admin',{\n              method: \"POST\",\n              headers:{\n                  \"Content-Type\":\"application/json\",\n              },\n              body: JSON.stringify(this.state.data.user)\n    }).then(res=>{\n        return res.json()\n    }).then(data=>{\n      submitControl(false, this);\n      console.log(data)\n\n      if (data.valid === false){\n        toastr.error(data.message)\n        this.props.history.push('/login');\n\n    }   else if (data.valid === true){\n        sessionStorage.setItem('adminToken', data.token);\n        this.props.history.push('/admin_comp');\n        toastr.success('YOU ARE LOGGED IN AS THE SUPER USER \"ADMIN\"')\n        console.log(data);\n\n    }   \n\n    }).catch()\n\n\n\n\n  }\n\ncomponentDidMount(){\n\n\n}\n\n\n    render(){\n\n    return (\n      <div className=\"admin\">\n        <form className=\"adminlog\"  onSubmit={this.handleSubmit}>\n            <div>\n            <p style={{color: 'yellowgreen'}}>ADMIN SECTION !!!</p>\n            <label htmlFor=\"email\">EMAIL:</label>\n            <input id=\"email\" type=\"text\" onChange={this.handleChange} placeholder=\"ENTER EMAIL\" required/>\n            </div>\n            <div>\n            <label htmlFor=\"password\" >PASSWORD:</label>\n            <input id=\"password\" type=\"password\" onChange={this.handleChange} placeholder=\"ENTER PASSWORD\" required/>\n            </div>\n            <button disabled={this.state.data.chck} type=\"submit\">LogIn</button>\n        </form>\n      </div>\n    );\n    }\n  }\n  \n  export default Adminlog;\n  "]},"metadata":{},"sourceType":"module"}